<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Tr치mite Educativo</title>
    <style>
        body { background-color: #87CEEB; font-family: 'Segoe UI', Arial, sans-serif; display: flex; justify-content: center; padding: 20px; }
        .contenedor { background: white; padding: 30px; border-radius: 15px; width: 100%; max-width: 500px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        h2, h3 { color: #333; text-align: center; }
        h3 { border-bottom: 2px solid #87CEEB; padding-bottom: 5px; margin-top: 25px; color: #0056b3; }
        .campo { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #444; font-size: 14px; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; margin-top: 20px; }
        button:hover { background-color: #0056b3; }
        #resultado { display: none; text-align: center; padding: 20px; background: #f0fff0; border-radius: 10px; border: 1px solid #b2d8b2; }
        .btn-whatsapp { display: inline-block; margin-top: 15px; background-color: #25D366; color: white; padding: 12px 20px; text-decoration: none; border-radius: 8px; font-weight: bold; }
    </style>
</head>
<body>

<div class="contenedor">
    <form id="formTramite">
        <h2>Solicitud de Tr치mite</h2>

        <h3>Datos del Solicitante</h3>
        
        <div class="campo">
            <label>Nombres del trabajador (Solo si es MINEDUC):</label>
            <input type="text" name="TrabajadorMineduc" placeholder="Opcional">
        </div>

        <div class="campo">
            <label>Tr치mite a realizar:</label>
            <select name="Tramite" required>
                <option value="Equiparaci칩n de t칤tulo">Equiparaci칩n de t칤tulo</option>
                <option value="Equiparaci칩n de grado">Equiparaci칩n de grado</option>
            </select>
        </div>

        <div class="campo">
            <label>Nombre Completo del Solicitante:</label>
            <input type="text" name="Nombre" required>
        </div>

        <div class="campo">
            <label>Correo Electr칩nico:</label>
            <input type="email" name="Correo" required>
        </div>

        <div class="campo">
            <label>Tel칠fono de Contacto:</label>
            <input type="tel" name="Telefono" required>
        </div>

        <div class="campo">
            <label>Documento de Identificaci칩n / Pasaporte (ind칤quelo):</label>
            <input type="text" name="DPI_Pasaporte_Solicitante" placeholder="N칰mero de documento">
        </div>

        <div class="campo">
            <label>Pa칤s de origen:</label>
            <input type="text" name="Pais" required placeholder="Ej: Guatemala">
        </div>

        <div class="campo">
            <label>Relaci칩n con el estudiante:</label>
            <select name="Responsable" required>
                <option value="Padre">Padre</option>
                <option value="Madre">Madre</option>
                <option value="Tutor">Tutor</option>
                <option value="Estudiante mayor de edad">Estudiante mayor de edad</option>
            </select>
        </div>

        <h3>Datos del Estudiante</h3>

        <div class="campo">
            <label>Nombre Completo del Estudiante:</label>
            <input type="text" name="NombreEstudiante" required>
        </div>

        <div class="campo">
            <label>DPI / Pasaporte del Estudiante (ind칤quelo):</label>
            <input type="text" name="DPI_Estudiante">
        </div>

        <div class="campo">
            <label>Pa칤s de Procedencia:</label>
            <input type="text" name="PaisProcedencia" required>
        </div>

        <div class="campo">
            <label>Fecha de Nacimiento:</label>
            <input type="date" name="FechaNacimiento" required>
        </div>

        <div class="campo">
            <label>Sexo:</label>
            <select name="Sexo" required>
                <option value="Masculino">Masculino</option>
                <option value="Femenino">Femenino</option>
            </select>
        </div>

        <div class="campo">
            <label>Etnia:</label>
            <select name="Etnia" required>
                <option value="Ladino">Ladino</option>
                <option value="Maya">Maya</option>
                <option value="Gar칤funa">Gar칤funa</option>
                <option value="Xinca">Xinca</option>
                <option value="Extranjero">Extranjero</option>
            </select>
        </div>

        <div class="campo">
            <label>쯇osee alguna necesidad educativa especial?</label>
            <select name="NecesidadEspecial" required>
                <option value="No">No</option>
                <option value="S칤">S칤</option>
            </select>
        </div>

        <button type="submit" id="btnEnviar">Registrar Solicitud</button>
    </form>

    <div id="resultado">
        <p style="color: #2e7d32; font-weight: bold; font-size: 18px;">춰Registro Exitoso!</p>
        <p>Su n칰mero de gesti칩n es: <span id="numGestion" style="font-weight: bold; color: #007bff;"></span></p>
        <a id="linkWhatsapp" href="#" target="_blank" class="btn-whatsapp">
            游 Contactar por WhatsApp para seguimiento
        </a>
    </div>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbynEx-BarTskVVKenBfC_K4pnzj2q-UyJlh9217gsLj3pI0uVNOnteuWDsDm4e8QpmM/exec'; 
    const miTelefono = '50242708454'; // Cambia esto por tu n칰mero

    const form = document.getElementById('formTramite');
    const btnEnviar = document.getElementById('btnEnviar');
    const resultadoDiv = document.getElementById('resultado');

    form.addEventListener('submit', e => {
        e.preventDefault();
        btnEnviar.disabled = true;
        btnEnviar.innerText = "Enviando datos...";
        
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => response.text())
            .then(idGestion => {
                form.style.display = 'none';
                resultadoDiv.style.display = 'block';
                document.getElementById('numGestion').innerText = idGestion;

                const mensajeWa = `Hola, registr칠 mi tr치mite. Gesti칩n: ${idGestion}. Estudiante: ${form.NombreEstudiante.value}.`;
                document.getElementById('linkWhatsapp').href = `https://wa.me/${miTelefono}?text=${encodeURIComponent(mensajeWa)}`;
            })
            .catch(error => {
                alert('Error al enviar. Verifica tu conexi칩n.');
                btnEnviar.disabled = false;
                btnEnviar.innerText = "Registrar Solicitud";
            });
    });
</script>

</body>
</html>
